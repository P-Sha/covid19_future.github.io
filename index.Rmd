---
title: "Future of COVID-19: Looking at Past Pandemics" 
output:
  html_document:
    css: style.css
---
<style type = "text/css">

h1.title {color: brown}

</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

library(tidyverse)
library(plotly)
library(ggplot2)
library(dygraphs)
library(rvest)
library(httr)
library(readxl)
library(tidyquant)
library(patchwork)
library(scales)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

***
 _Jared Klug_, _David Nemirovsky_, _Matthew Lawlor_ _and_ _Purnima Sharma_ 

<brk><brk><brk>

## *Overview*

According to [Google Trends](https://trends.google.com/trends/story/US_cu_4Rjdh3ABAABMHM_en), "coronavirus" is one of the most researched topics of 2020, having been searched four times as much as "news" between March and May of 2020. As we live through this ongoing pandemic, what might the most googled phobia be? Due to COVID-19, it is ["the fear of other people"](https://nypost.com/2020/10/15/most-googled-phobia-of-2020-is-fear-of-other-people-amid-covid-19/
). So, a likely question on most peoples' minds is how would COVID-19 take its course in the near future and possibly beyond?

<center>
<figure>
![](pictures/history_of_pandemics.jpg)
<figcaption> Coronavirus in comparison to history's deadliest pandemics, as of March 15, 2020 [[1]](https://dailymail.co.uk/news/article-8120631) </figcaption>
</figure>
</center>

***

Given the nature of new Zoonotic infectious diseases, and the resulting inconsistent and sometimes conflicting measures of management of COVID-19 by the current federal government, we thought it would be interesting to explore into past pandemics in an effort to read into the current one. By looking at any prevalent patterns and similarities of prior pandemics, the aim was to learn lessons from those and shed some light on the direction of COVID-19.    

****** embed screencast here*************

Data for the project was collected from various online sources such as [kaggle.com](https://www.kaggle.com), [cdc.gov](https://www.cdc.gov/datastatistics/), and [WHO.int/data](https://www.who.int/data/) for covid19 data. For a complete list of datasets and descriptions, click on the  "Datasets" tab above.


Data comparisons for the project were performed between past pandemics and the current pandemic using similar and parallel, if possible, datasets (in terms of time-frame and geography of the spread). Comparisons were made by analyzing visuals and statistical parameters between the current and past pandemics. 

```{r}
load("rdas/global_cases.rda")
load("rdas/global_deaths.rda")

##log-transformed global new and cumulative cases
global_new_cases_log_plot =
global_cases %>% 
  filter(trend == "new_cases") %>% 
  ggplot(aes(x = pandemic_duration, y = n, color = disease)) +
  geom_point() +
  geom_ma(ma_fun = SMA, n = 7, size = 1) +
  scale_y_log10(breaks = trans_breaks("log10", function(x) 10^x), labels = trans_format("log10", math_format(10^.x))) +
  labs(
    x = "(Pandemic duration: Days) New cases",
    y = "n") +
   ggtitle("Comparisons (transformed): New cases, Global") +
   theme(legend.position = "hide")

global_cumulative_cases_log_plot =
global_cases %>% 
  filter(trend == "cumulative_cases") %>% 
  ggplot(aes(x = pandemic_duration, y = n, color = disease)) +
  geom_point() +
  geom_ma(ma_fun = SMA, n = 7, size = 1) +
  scale_y_log10(breaks = trans_breaks("log10", function(x) 10^x), labels = trans_format("log10", math_format(10^.x))) +
  labs(
    x = "Cumulative cases",
    y = "",
    caption = "Log-transformed plots"
  ) +
  theme(legend.position = "right")

##log-transformed global new and cumulative deaths

global_new_deaths_log_plot =
global_deaths %>% 
  filter(trend == "new_deaths") %>% 
  ggplot(aes(x = pandemic_duration, y = n, color = disease)) +
  geom_point() +
  geom_ma(ma_fun = SMA, n = 7, size = 1) +
  scale_y_log10(breaks = trans_breaks("log10", function(x) 10^x), labels = trans_format("log10", math_format(10^.x))) +
  labs(
    x = "Days: New deaths",
    y = "n") +
  ggtitle("Comparisons (transformed): Deaths, Global") +
  theme(legend.position = "hide")

global_cumulative_deaths_log_plot =
global_deaths %>% 
  filter(trend == "cumulative_deaths") %>% 
  ggplot(aes(x = pandemic_duration, y = n, color = disease)) +
  geom_point() +
  geom_ma(ma_fun = SMA, n = 7, size = 1) +
  scale_y_log10(breaks = trans_breaks("log10", function(x) 10^x), labels = trans_format("log10", math_format(10^.x))) +
    labs(
    x = "Cumulative deaths",
    y = "",
    caption = "Log-transformed plots"
    ) +
   theme(legend.position = "right")

(global_new_cases_log_plot + global_cumulative_cases_log_plot) / (global_new_deaths_log_plot + global_cumulative_deaths_log_plot)
```


Other results summary (copy from full report).....
     

***

